---
import Base from "@layouts/BaseLayout.astro";
import BaseHead from "@components/BaseHead.astro";

// 与 src/content/config.ts 的 schema 对齐
type Props = {
	title: string;
	date: Date;
	locale: "zh" | "en";
	slug: string;
	description?: string;
};

const { title, description, date } = Astro.props as Props;
---

<Base>
	<Fragment slot="title">{title}</Fragment>
	<!-- 若 BaseHead 需要 string，拿 title 兜底 -->
	<BaseHead title={title} description={description ?? title} />

	<article>
		<header>
			<h1>{title}</h1>
			<time datetime={date.toISOString()}>
				{
					date.toLocaleDateString(undefined, {
						year: "numeric",
						month: "2-digit",
						day: "2-digit",
					})
				}
			</time>
			{description && <p>{description}</p>}
		</header>
		<slot />
	</article>
</Base>
